(window.webpackJsonp=window.webpackJsonp||[]).push([[42,28,39],{MJXR:function(e,t,n){"use strict";n("DW2E");t.a=Object.freeze({xs:576,sm:768,md:992,lg:1200,xl:1380})},UD5t:function(e,t,n){"use strict";var a=n("vOnD"),r=n("iuhU"),o=n("qR4i"),i=a.b.button.attrs((function(e){return{block:e.block,className:Object(r.a)("au-btn",e.secondary&&"au-btn--secondary",e.tertiary&&"au-btn--tertiary",e.className&&e.className,e.block&&"au-btn--block")}})).withConfig({displayName:"button__Button",componentId:"aw29qv-0"})(["color:",";background-color:",";border:",";font-weight:600;margin:0 3px 5px 0 !important;&.au-btn--tertiary.au-btn{text-decoration:none;}&.au-btn--tertiary.au-btn:hover{text-decoration:underline;}&.btn-sm{font-size:13px;border-width:2px;}"],(function(e){return e.secondary||e.tertiary?"#000":"#fff"}),o.b["$background-primary"],(function(e){return e.tertiary?"none":"3px solid "+o.b["$background-primary"]}));t.a=i},iuhU:function(e,t,n){"use strict";n("LK8F");function a(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}t.a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(r&&(r+=" "),r+=t);return r}},kxLv:function(e,t,n){"use strict";n.r(t);n("VRzm"),n("Btvt");var a=n("o0o1"),r=n.n(a),o=(n("ls82"),n("q1tI")),i=n.n(o),l=n("vqTq"),c=n("UD5t"),s=n("vOnD"),u=n("MJXR"),d=s.b.div.withConfig({displayName:"styled-home-layout__StyledLoginContainer",componentId:"sc-1dmjbid-0"})(["@media (max-width:","px){background:#f0f0f0;padding:30px 30px;border-radius:20px;margin-bottom:1rem;}@media (min-width:","px){background:#f0f0f0;padding:50px 10px 50px 50px;border-top-left-radius:200px;border-bottom-left-radius:200px;height:400px;&:after{content:'';background-color:#f0f0f0;position:absolute;height:100%;width:100vw;z-index:0;top:0px;left:90%;}}"],u.a.sm,u.a.sm),m=s.b.div.withConfig({displayName:"styled-home-layout__StyledLogin",componentId:"sc-1dmjbid-1"})(["@media (min-width:","px){position:absolute;top:50%;left:60%;transform:translateX(-50%) translateY(-50%);width:70%;}@media (min-width:","px){position:absolute;top:50%;left:55%;transform:translateX(-50%) translateY(-50%);max-width:260px;width:70%;}"],u.a.sm,u.a.md),p=n("scg8"),f=n("N9+v"),b=n("YwZP"),v=n("asXk"),h=n("TSYQ"),g=n.n(h),y=n("/NL5");function w(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(a,r)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){w(o,a,r,i,l,"next",e)}function l(e){w(o,a,r,i,l,"throw",e)}i(void 0)}))}}var k=new v.a;t.default=function(){var e=Object(o.useState)(!0),t=e[0],n=e[1],a=Object(o.useState)(!1),s=a[0],u=a[1];Object(o.useEffect)((function(){function e(){return(e=x(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.isLoggedIn();case 2:t=e.sent,u(t),n(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var h=Object(y.d)(),w=!(null==h?void 0:h.blarga);return t?i.a.createElement(l.b,{metaTitle:"MyQld Home",isLoggedIn:s,isMaintenanceApplication:w},i.a.createElement(p.StyledWrapper,null,i.a.createElement("p",null,"Loading..."),i.a.createElement(f.a,{spinnerType:"spinner--lg"}))):i.a.createElement(l.b,{metaTitle:"MyQld Home",isLoggedIn:s,isMaintenanceApplication:w},i.a.createElement("main",{className:"au-grid mt-3 mb-8 mx-3 sm:my-12"},i.a.createElement("div",{className:"container-fluid au-body"},i.a.createElement("div",{className:g()("dxp-index-page__row","row")},!w&&i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-5 col-sm-push-7 au-body"},i.a.createElement(d,null,i.a.createElement(m,null,i.a.createElement("h3",{className:""},"myQld account"),i.a.createElement("p",null,s?"Apply for a Bond Loan or Rental Grant in myQld.":"Login to apply for a Bond Loan or Rental Grant in myQld."),i.a.createElement("div",{className:"mt-3"},s?i.a.createElement(c.a,{tw:"block w-full xs:inline-block xs:w-full","data-testid":"my-dashboard-btn",onClick:function(){Object(b.navigate)("/dashboard/")}},"My Dashboard"):i.a.createElement(c.a,{className:"mq-btn-max-width",tw:"block w-full xs:inline-block xs:w-full","data-testid":"login-content-btn",onClick:function(){k.login({idpHint:v.a.PreferredIDP})}},"Login"))))),i.a.createElement("div",{className:"col-sm-7 col-sm-pull-5"},i.a.createElement("h1",{className:"mq-pageTitle"},"We are simplifying the way you access government services."),i.a.createElement("p",null,"myQld will provide secure and easy access to online government services in one place."),i.a.createElement("p",null,"From your personalised dashboard, you'll be able to find and apply for services, track progress, get timely reminders and notifications, and keep your details up to date across multiple services."),i.a.createElement("h2",{className:"au-display-md mt-8"},"myQld is in development"),i.a.createElement("p",null,"Bond Loans and Rental Grants is the first service in myQld. More services and features will be available soon."),i.a.createElement("h2",{className:"au-display-md mt-8"},"Find other government services"),i.a.createElement("p",null,"Looking for a service not yet available in myQld?"),i.a.createElement("a",{className:"au-btn au-btn--secondary mt-5","data-testid":"btn-home-find-other-services",href:"https://www.qld.gov.au/services",target:"_blank",rel:"noreferrer"},"Find other services"))),w&&i.a.createElement("div",{className:"col-sm-12"},i.a.createElement("h1",{className:"mq-pageTitle"},"We're sorry ... myQld beta is unavailable right now"),i.a.createElement("p",null,"We're making some improvements and will be back online soon."),i.a.createElement("h2",{className:"au-display-md mt-8"},"Existing applications"),i.a.createElement("p",null,"Applications previously submitted are safe with us!"),i.a.createElement("a",{className:"au-btn au-btn--secondary mt-5","data-testid":"btn-home-loan-application-status",href:"https://blbs.hpw.qld.gov.au/LoanApplicationStatus",target:"_blank",rel:"noreferrer"},"Check the status of your application"),i.a.createElement("h2",{className:"au-display-md mt-8"},"New applications"),i.a.createElement("p",null,"For now, submit a new application through the following links:"," "),i.a.createElement("div",{className:"showLists"},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"https://blarga.hpw.qld.gov.au/OnlineApplication/BondLoan"},"Bond loan"," ")),i.a.createElement("li",null," ",i.a.createElement("a",{href:"https://blarga.hpw.qld.gov.au/OnlineApplication/RentalGrant"},"Rental grant"," ")),i.a.createElement("li",null," ",i.a.createElement("a",{href:"https://blarga.hpw.qld.gov.au/OnlineApplication/BondLoanAndRentalGrant"},"Bond loan and rental grant"," ")))),i.a.createElement("h2",{className:"au-display-md mt-8"},"If you need help, call us on 13 QGOV (13 74 68)."," "))))))}},scg8:function(e,t,n){"use strict";n.r(t),n.d(t,"StyledWrapper",(function(){return R}));n("rE2o"),n("ioFf"),n("VRzm"),n("Btvt"),n("Z2Ku"),n("L9s1");var a=n("o0o1"),r=n.n(a),o=(n("ls82"),n("q1tI")),i=n.n(o),l=n("vqTq"),c=n("asXk"),s=n("eJi6"),u=n("q8UK"),d=n.n(u),m=n("7LEp"),p=n("CLrh"),f=n("ttZb"),b=n("Wbzz"),v=n("bjRM"),h=n("YCiF"),g=n("vOnD"),y=n("N9+v"),w=n("gxW4"),x=(n("rGqo"),n("yt8O"),n("RW0V"),n("91GP"),n("C2HB")),k=n("mTwe");function E(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(a,r)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){E(o,a,r,i,l,"next",e)}function l(e){E(o,a,r,i,l,"throw",e)}i(void 0)}))}}var O=function(e,t){var n={firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,dob:e.dob,email:e.email},a={firstName:t.firstName||"",middleName:t.middleName||"",lastName:t.lastName||"",dob:t.dob||"",email:t.email||""},r=Object.assign({},t,a);return{mergedData:Object.assign({},r,n),contact:r}},j=function(){var e=N(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(x.a)(),Object.keys(t).forEach((function(e){return null===t[e]&&delete t[e]})),e.next=4,n.mutate({mutation:k.a,variables:{input:t}});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=N(r.a.mark((function e(t,n,a){var o,i,l,c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.authAccount.contact,i=O(n,o),l=i.mergedData,c=i.contact,JSON.stringify(l)===JSON.stringify(c)){e.next=18;break}return e.prev=3,e.next=6,j(l);case 6:if(s=e.sent){e.next=9;break}return e.abrupt("return");case 9:return(u=p.i.MAP_CONTACT(t,s.data)).authAccount.hasContact=!0,e.next=13,a({variables:{user:u}});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,n,a){return e.apply(this,arguments)}}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(a,r)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){I(o,a,r,i,l,"next",e)}function l(e){I(o,a,r,i,l,"throw",e)}i(void 0)}))}}var S=new d.a,D=S.signal,R=g.b.div.withConfig({displayName:"redirect__StyledWrapper",componentId:"sc-152rre9-0"})([""," top:45%;left:50%;transform:translateX(-50%) translateY(-50%);"],{paddingTop:"1.5rem",paddingBottom:"1.5rem",flexDirection:"column",justifyContent:"center",alignItems:"center",display:"flex",position:"absolute"}),A=new c.a,_=function(){var e=L(r.a.mark((function e(t,n,a,o){var i,l,c,u,d,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("### REDIRECT PAGE"),i="/dashboard/",l="","undefined"!=typeof window&&window.localStorage.getItem("deepLinkUrl")&&(i=window.localStorage.getItem("deepLinkUrl"),l=i,window.localStorage.setItem("deepLinkUrl","")),console.log("### REDIRECT originalDeepLink:",l),!(c=A.isConsentOnly())){e.next=11;break}return console.log("### REDIRECT isConsentOnly:",c),window.localStorage.setItem("deepLinkUrl",""),document.location.href=l,e.abrupt("return");case 11:if(t!==m.b.CITIZEN){e.next=44;break}if(u=a&&a.tokenData&&{firstName:a.tokenData.firstName,middleName:a.tokenData.middleName,dob:a.tokenData.dob,lastName:a.tokenData.lastName,email:a.tokenData.email,isIP2:a.tokenData.isIP2},!n){e.next=25;break}if(!Object(s.a)(u)){e.next=19;break}return e.next=17,C(a,u,o);case 17:e.next=22;break;case 19:return window.localStorage.setItem("deepLinkUrl",l),Object(b.navigate)("/401"),e.abrupt("return");case 22:Object(b.navigate)(i),e.next=44;break;case 25:if(e.prev=25,u){e.next=28;break}throw new Error("No token data found");case 28:if(!Object(s.a)(u)){e.next=37;break}return e.next=31,Object(w.a)(u,i);case 31:d=e.sent,(f=p.i.MAP_CONTACT(a,d.data)).authAccount.hasContact=!0,o({variables:{user:f}}),e.next=39;break;case 37:void 0!==("undefined"==typeof window?"undefined":T(window))&&(window.localStorage.setItem("UpdateUserFromForm","yes"),window.localStorage.setItem("deepLinkUrl",l)),i="/401";case 39:i?Object(b.navigate)(i):Object(b.navigate)("/dashboard/"),e.next=44;break;case 42:e.prev=42,e.t0=e.catch(25);case 44:case"end":return e.stop()}}),e,null,[[25,42]])})));return function(t,n,a,r){return e.apply(this,arguments)}}();t.default=function(){var e=Object(o.useState)(void 0),t=e[0],n=e[1],a=Object(h.a)().data,c=(Object(h.a)().refetch,Object(o.useState)(!1)),s=c[0],u=c[1],d=Object(f.b)(v.a,{onCompleted:function(e){e.updateUser;void 0===t&&Object(p.f)(D).then((function(e){n(e)}))}}),g=d[0];d[1];Object(o.useEffect)((function(){if(t){var e=a;e.authAccount.contactType=t.result.contactType,t.result.hasContact&&(e=p.i.MAP_CONTACT(a,t)),g({variables:{user:e}}),_(t.result.contactType,t.result.hasContact,e,g)}}),[t]);var w=function(){var e=L(r.a.mark((function e(){var t,n,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getToken(A.token_names.access_token);case 2:return t=e.sent,e.next=5,A.getParsedToken(A.token_names.access_token);case 5:n=e.sent,(o=a)||(o=new m.a),i=p.i.MAP_TOKEN_DATA(o,n,t),g({variables:{user:i}});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e=window.location.href;function t(){return(t=L(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.processRedirect().then(L(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.isLoggedIn();case 3:e.sent?w():(console.log("### REDIRECT 236"),Object(b.navigate)("/")),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),console.log("### REDIRECT 241"),Object(b.navigate)("/");case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).catch((function(e){throw console.error(e),e}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e.includes("#")||(console.log("### REDIRECT 226"),Object(b.navigate)("/")),e.includes("?logout=true")?(u(!0),A.logout()):u(!1),function(){t.apply(this,arguments)}(),function(){return S.abort()}}),[]),i.a.createElement(l.b,{redirect:!0},i.a.createElement(R,null,i.a.createElement("p",null,s?"Signing you out...":"Signing you in..."),i.a.createElement(y.a,{spinnerType:"spinner--lg"})))}}}]);